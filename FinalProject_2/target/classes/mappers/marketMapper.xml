<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.ex.mapper.MarketMapper">
    
    <select id="selectMarketList" parameterType="com.spring.ex.dto.MarketDto" resultType="com.spring.ex.dto.MarketDto">
		SELECT   mar_num
			   , mar_name
			   , mar_content
			   , mar_price
		  FROM market
		  ORDER BY mar_num DESC
    </select>
    
    <insert id="marketInsert" useGeneratedKeys="true" keyProperty="mar_num">
	    INSERT INTO market(     
	    						mar_num
			   					, mar_name
							    , mar_content
							    , mar_price )
	                  VALUES(     
	                 		   #{mar_num}
	                 		   , #{mar_name,jdbcType=VARCHAR}
	                 		   , #{mar_content,jdbcType=VARCHAR}
	                 		   , #{mar_price,jdbcType=INTEGER}  )
	                 		   
    </insert>
    
    <update id="marketUpdate">
      	UPDATE market
		   SET mar_name = #{mar_name, jdbcType=VARCHAR},
		   	   mar_content  = #{mar_content, jdbcType=VARCHAR},
		   	   mar_price  = #{mar_price, jdbcType=INTEGER}
		 WHERE mar_num = #{mar_num};
    </update>
    
    <delete id="marketDelete">
    DELETE 
		  FROM market
		 WHERE mar_num = #{mar_num};
    </delete>
    
    <select id="selectMarketByCode" parameterType="com.spring.ex.dto.MarketDto" resultType="com.spring.ex.dto.MarketDto">
		SELECT   mar_num
			   , mar_name
			   , mar_content
			   , mar_price
		  FROM market
		 WHERE mar_num = #{mar_num}
    </select>
</mapper>